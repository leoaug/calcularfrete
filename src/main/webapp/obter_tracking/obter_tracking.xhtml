<?xml version="1.0" encoding="utf-8"?>
<ui:composition
	template="/index.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	   	
    <h:outputText value=".:: Obter Tracking ::." />
    

	<ui:define name="content">
	
	
		<p:panel header=".:: Consultar tracking ::.">
			<h:form id="idFormConsultarTracking">	
				<p:growl showDetail="true"/>
				<div class="ui-fluid">
	       			 <p:panelGrid columns="4" columnClasses="ui-g-12 ui-md-2,ui-g-12 ui-md-4,ui-g-12 ui-md-2,ui-g-12 ui-md-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
	       			 	       	<p:outputLabel for="agData" value="Data da entrega Agendada" />
        						<p:calendar id="agData" value="#{obterTrackingController.obterTrackingRequest.dataConsulta}" showTodayButton="true" pattern="yyyy-MM-dd" />
	       			 </p:panelGrid>
	       		</div>
	       		<p:commandButton value=".:: Obter Tracking::." 
	       						action="#{obterTrackingController.obterTracking}" 
	       						update="idFormResultadoTracking idPanelFormResultadoTracking idFormConsultarTracking" />
	       	</h:form>
	    </p:panel>
    
    	<br/>
    	
    	<p:panel id="idPanelFormResultadoTracking" header=".:: Resultado tracking ::.">
    	<h:form id="idFormResultadoTracking"> 
    		 <h:outputText value="#{obterTrackingController.obterTrackingResponse.codigoProc}" />
    		 <br/>
    		 
    		 <ui:repeat var="loteRetorno" value="#{obterTrackingController.obterTrackingResponse.listaLoteRetorno}">
    		 	<h:outputText value="#{loteRetorno.codRetorno}"/>
    		  	<br/>
    		 	<h:outputText value="#{loteRetorno.dataGeracao}">
    		 		<f:convertDateTime pattern="yyyy-MM-dd"/>
    		 	</h:outputText>
    		 	
    		 	<br/>
    		 	
    		 	<h:outputText value="Encomenda Retorno " />
    		 	<br/>
    		 	<ui:repeat var="encomendaRetorno" value="#{loteRetorno.listaEncomendaRetorno}">
    		 		<h:outputText value="#{encomendaRetorno.awb}" />
    		 		
    		 		<br/>
    		 	
    		 		<h:outputText value="#{encomendaRetorno.pedido}" />
    		 		
    		 		<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.notaFiscal}" />
    		 		
					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.serieNotaFiscal}" />

					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.idCliente}" />

					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.codigoObjeto}" />
    		 	    
    		 	    <br/>
    		 	    
    		 	    <p:dataTable var="statusTotal" value="#{encomendaRetorno.listaStatusTotal}"> 
    		 	    	<f:facet name="header">
    		 	    		  <h:outputText value="Status Total: " />   		 	    		
    		 	    	</f:facet> 
    		 	    	 
    		 	    	<p:column headerText="Código Status">
           		 	    	 <h:outputText value="#{statusTotal.codStatus}" />
    					</p:column>
    		 	    	  
    		 	    	
    		 	    	<p:column headerText="Descrição Status">   		 	    	  		 	    	
						 	<h:outputText value="#{statusTotal.descStatus}" />
						</p:column>
						
						<p:column headerText="Descrição Status"> 
						 	<h:outputText value="#{statusTotal.dataStatus.getTime()}" >
						 		<f:convertDateTime pattern="yyyy-MM-dd" />
						 	</h:outputText>
						 </p:column>	
    		 	    
    		 	    </p:dataTable>
    		 	    
    		 	    <p:dataTable var="statusEct" value="#{encomendaRetorno.listaStatusEct}"> 
    		 	    	<f:facet name="header">
    		 	    		  <h:outputText value="Status Ect: " />
    		 	    		
    		 	    	</f:facet>
    		 	    
    		 	    	<p:column headerText="Etc Tipo">    		 	    	
    		 	    		<h:outputText value="#{statusEct.ectTipo}" />
    		 	    	</p:column>
    		 	    	
    		 	    	<p:column headerText="Etc Status">    		 	    	  		 	    	
    		 	    		<h:outputText value="#{statusEct.ectStatus}" />
    		 	    	</p:column>
					
					    <p:column headerText="Etc Data">    		 	    	  		 	    						
							<h:outputText value="#{statusEct.ectData}" >
							 	<f:convertDateTime pattern="yyyy-MM-dd"/>
							</h:outputText>
						</p:column>
						
						<p:column headerText="Etc Hora">    		 	    	  		 	    												
							<h:outputText value="#{statusEct.ectHora.getAsCalendar().getTime()}" >
							 	<f:convertDateTime pattern="HH:mm:ss"/>
							</h:outputText>
						</p:column>
						
						<p:column headerText="Etc DEscrição"> 
							<h:outputText value="#{statusEct.ectDescricao}" />
						</p:column>
						
					    <p:column headerText="Etc Comentário"> 						
							<h:outputText value="#{statusEct.ectComentario}" />
						</p:column>
						
						<p:column headerText="Etc Local"> 						
							<h:outputText value="#{statusEct.ectLocal}" />
						</p:column>
					
						<p:column headerText="Etc Código"> 											
					    	<h:outputText value="#{statusEct.ectCodigo}" />
						</p:column>
					
						<p:column headerText="Etc Cidade"> 																
							<h:outputText value="#{statusEct.ectCidade}" />
						</p:column>
						
						<p:column headerText="Etc Uf"> 																
							
							<h:outputText value="#{statusEct.ectUf}" />
						</p:column>					
    		 	    
    		 	    
    		 	    </p:dataTable>
    		 	
    		 	</ui:repeat>
    		 	
    		 
    		 </ui:repeat>
    	</h:form>	
    	</p:panel>
    
 	</ui:define>
 
 </ui:composition>