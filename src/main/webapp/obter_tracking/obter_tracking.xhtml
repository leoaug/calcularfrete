<?xml version="1.0" encoding="utf-8"?>
<ui:composition
	template="/index.xhtml"
	xmlns="http://www.w3.org/1999/xhtml"
	xmlns:h="http://java.sun.com/jsf/html"
	xmlns:f="http://java.sun.com/jsf/core"
	xmlns:ui="http://java.sun.com/jsf/facelets"
	xmlns:p="http://primefaces.org/ui">

	   	
    <h:outputText value=".:: Obter Tracking ::." />
    

	<ui:define name="content">
	
	
		<p:panel header=".:: Consultar tracking ::.">
			<h:form>	
				<p:growl showDetail="true"/>
				<div class="ui-fluid">
	       			 <p:panelGrid columns="4" columnClasses="ui-g-12 ui-md-2,ui-g-12 ui-md-4,ui-g-12 ui-md-2,ui-g-12 ui-md-4" layout="grid" styleClass="ui-panelgrid-blank ui-fluid">
	       			 	       	<p:outputLabel for="agData" value="Data da entrega Agendada" />
        						<p:calendar id="agData" value="#{obterTrackingController.obterTrackingRequest.dataConsulta}" showTodayButton="true" pattern="yyyy-MM-dd" />
	       			 </p:panelGrid>
	       		</div>
	       		<p:commandButton value=".:: Obter Tracking::." action="#{obterTrackingController.obterTracking}" update="@all" />
	       	</h:form>
	    </p:panel>
    
    	<br/>
    	
    	<p:panel header=".:: Resultado tracking ::.">
    	<h:form> 
    		 <h:outputText value="#{obterTrackingController.obterTrackingResponse.codigoProc}" />
    		 <br/>
    		 
    		 <ui:repeat var="loteRetorno" value="#{obterTrackingController.obterTrackingResponse.listaLoteRetorno}">
    		 	<h:outputText value="#{loteRetorno.codRetorno}"/>
    		  	<br/>
    		 	<h:outputText value="#{loteRetorno.dataGeracao}">
    		 		<f:convertDateTime pattern="yyyy-MM-dd"/>
    		 	</h:outputText>
    		 	
    		 	<br/>
    		 	
    		 	<h:outputText value="Encomenda Retorno " />
    		 	<br/>
    		 	<ui:repeat var="encomendaRetorno" value="#{loteRetorno.listaEncomendaRetorno}">
    		 		<h:outputText value="#{encomendaRetorno.awb}" />
    		 		
    		 		<br/>
    		 	
    		 		<h:outputText value="#{encomendaRetorno.pedido}" />
    		 		
    		 		<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.notaFiscal}" />
    		 		
					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.serieNotaFiscal}" />

					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.idCliente}" />

					<br/>
    		 		
    		 	    <h:outputText value="#{encomendaRetorno.codigoObjeto}" />
    		 	    
    		 	    <br/>
    		 	    
    		 	    <h:outputText value="Status Total: " />
    		 	    <ui:repeat var="statusTotal" value="#{encomendaRetorno.listaStatusTotal}">
    		 	    	 
    		 	    	 <br/> 
    		 	    	  
    		 	    	 <h:outputText value="#{statusTotal.codStatus}" />
    		 	    	
    		 	    	 <br/>	
    		 	    	
						 <h:outputText value="#{statusTotal.descStatus}" />
						
						 <br/>
						
						 <h:outputText value="#{statusTotal.dataStatus.getTime()}" />
						 	
    		 	    
    		 	    </ui:repeat>
    		 	    
    		 	    <h:outputText value="Status Ect: " />
    		 	    <ui:repeat var="statusEct" value="#{encomendaRetorno.listaStatusEct}">
    		 	    
    		 	    	<h:outputText value="#{statusEct.ectTipo}" />
    		 	    	
    		 	    	<br/>
    		 	    	
    		 	    	<h:outputText value="#{statusEct.ectStatus}" />
    		 	    	
    		 	    	<br/>
					
						<h:outputText value="#{statusEct.ectData}" >
						 	<f:convertDateTime pattern="yyyy-MM-dd"/>
						</h:outputText>
						
						<br/>
						
						<h:outputText value="#{statusEct.ectHora.getAsCalendar().getTime()}" >
						 	<f:convertDateTime pattern="HH:mm:ss"/>
						</h:outputText>
					
						<br/>
						
						<h:outputText value="#{statusEct.ectDescricao}" />
						
						<br/>
						
						<h:outputText value="#{statusEct.ectComentario}" />
						
						<br/>
						
						<h:outputText value="#{statusEct.ectLocal}" />
						
						<br/>
					
					    <h:outputText value="#{statusEct.ectCodigo}" />
						
						<br/>
					
						<h:outputText value="#{statusEct.ectCidade}" />
						
						<br/>
							
						<h:outputText value="#{statusEct.ectUf}" />
											
    		 	    
    		 	    </ui:repeat>
    		 	
    		 	</ui:repeat>
    		 	
    		 
    		 </ui:repeat>
    	</h:form>	
    	</p:panel>
    
 	</ui:define>
 
 </ui:composition>